os: Visual Studio 2015

platform:
  - Win64

configuration:
  - Debug
  - Release

clone_folder: C:\projects\Phyre

environment:
  MSVC_DEFAULT_OPTIONS: ON
  BOOST_ROOT: C:\Libraries\boost_1_60_0
  BOOST_LIBRARYDIR: C:\Libraries\boost_1_60_0\lib64-msvc-14.0
  PHYRE_ROOT: C:\projects\Phyre
  PYTHON_PATH: C:\Python35
  PYTHON_PACKAGE_PATH: C:\Python35\Scripts

install:
  -  ps: (new-object net.webclient).DownloadFile('https://bootstrap.pypa.io/get-pip.py', 'C:/get-pip.py')
  - "%PYTHON_PATH%/python.exe C:/get-pip.py"
  - "%PYTHON_PACKAGE_PATH%/pip.exe install nose"
  - cmd: Tools\install.bat

build:
  project: C:\projects\Phyre\Build\Phyre.sln

test_script:
  - cmd: C:\projects\Phyre\Build\%CONFIGURATION%\PhyreTests.exe %PHYRE_ROOT%\phyre.json