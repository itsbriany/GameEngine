language: cpp
compiler: clang
os:
    - osx

before_install:
    - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then export CXX="/usr/local/bin/clang++-3.8 -stdlib=libc++"; fi
    - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then export CXXFLAGS="$CXXFLAGS -I/usr/local/opt/llvm38/lib/llvm-3.8/include/c++/v1"; fi
    - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then export LDFLAGS="$LDFLAGS -L/usr/local/opt/llvm38/lib/llvm-3.8/lib"; fi
    - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then export DYLD_LIBRARY_PATH=$BOOST_ROOT/stage/lib; fi
    - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew update ; fi
    - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew install llvm38 ; fi
    - export PHYRE_ROOT=/Users/travis/build/itsbriany/Phyre
    - export PHYRE_RUNTIME=$PHYRE_ROOT/Build/Bin

install:
    - Tools/install.sh

script:
    - Tools/run_tests.sh
